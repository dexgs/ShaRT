<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Live Streaming</title>
        <link rel="stylesheet" href="css/styles.css"/>
    </head>
    <body>
        <h1>Live Streaming</h1>

        <noscript>
            <p class="error">
                This page requires JavaScript!
            </p>
        </noscript>

        <video controls id="stream-player"></video>

        <form id="stream-setup" onsubmit="return false;">
            <fieldset>
                <label for="enable-buffer">Enable buffer:</label>
                <input id="enable-buffer" name="enable-buffer" type="checkbox" checked="checked" onchange="document.getElementById('buffer-size').disabled = !this.checked;"/>

                <label for="buffer-size">Buffer size:</label>
                <input id="buffer-size" name="buffer-size" type="range" min=0 max=1000 value="384" oninput="this.nextElementSibling.value = this.value + 'kB'"/>
                <output>384kB</output>
            </fieldset>

            <fieldset>
                <label for="stream-name">Stream name:</label>
                <input id="stream-name" name="stream-name" type="text"/>
                <input type="submit" value="Open Stream"/>
            </fieldset>
        </form>

        <p class="instructions">
            To watch a stream, type its name into the above text field and click
            the "Open Stream" button.
        </p>
        <p class="instructions">
            If you disable the buffer, you can achieve lower latency at the cost
            of stability. If you want a shorter delay, lower the buffer size or
            disable the buffer entirely. If the stream playback is choppy/unstable,
            increase the buffer size.
        </p>

        <footer>
            Playback in browser is achieved with
            <a href="https://github.com/xqq/mpegts.js">mpegts.js</a>
            licensed under the
            <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>
        </footer>
    </body>

    <script src="js/mpegts/mpegts.js"></script>
    <script src="js/config.js"></script>
    <script src="js/play_stream.js"></script>
</html>
